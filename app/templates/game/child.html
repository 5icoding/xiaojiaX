<h1>Game child Page</h1>

<script>
// http://127.0.0.1:8002/child.html
// 子页面接收信息
window.addEventListener('message', e => {
    // 通过origin对消息进行过滤，避免遭到XSS攻击
    if (e.origin === {{ url_for("game_child")}}) {
        console.log(e.origin) // 父页面所在的域
        console.log(e.data)  // 父页面发送的消息, hello, child!
    }
}, false);

function sendMessage() {
    // 向父页面发送消息
    window.top.postMessage('hello, parent!',  {{ url_for("game_p")}});

}
</script>


